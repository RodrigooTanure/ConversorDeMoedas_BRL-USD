<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conversão de Moedas</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link rel="shortcut icon" href="https://cdn.pixabay.com/photo/2018/03/02/15/04/bag-3193368_960_720.png"
        type="image/x-icon">

    <style>
        body {
            background-image: linear-gradient(-20deg, #00cdac 0%, #8ddad5 100%);
            height: 100vh;
            background-repeat: no-repeat;

        }

        #main {
            box-sizing: border-box;
        }
    </style>


</head>

<body>

    <div class="container" id="main">
        <div class="col-12 m-auto col-md-4 bg-dark rounded px-2 py-1"
            style="position: relative; top: 70px; box-shadow: 1px 1px 5px 1px #000;">
            <h2 class="text-light text-center">Conversão de Moedas</h2>
            <div class="row gx-1 text-light">
                <div class="col-12">
                    <div class="p-3 justify-content-center">
                        <div class="d-flex justify-content-center">
                            <div class="col-3 text-center">
                                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/05/Flag_of_Brazil.svg/1280px-Flag_of_Brazil.svg.png"
                                    alt="" class="img-fluid" style="height: 25px;">
                            </div>
                        </div>
                        <h3 class="text-center">BRL</h3>
                        <div class="row">
                            <input type="text" class="form-control" id="brl" placeholder="Insira o valor em Reais..">
                        </div>
                    </div>
                </div>
                <div class="col-12">
                    <div class="p-3 justify-content-center">
                        <div class="d-flex justify-content-center text-center">
                            <div class="col-3">
                                <img src="https://s3.static.brasilescola.uol.com.br/be/conteudo/images/estados-unidos.jpg"
                                    alt="" class="img-fluid" style="height: 25px;">
                            </div>
                        </div>
                        <h3 class="text-center">USD</h3>
                        <div class="row">
                            <input type="text" class="form-control" id="dol" placeholder="Insira o valor em Doláres..">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>





    <script>
        let valor;
        fetch("https://economia.awesomeapi.com.br/last/USD-BRL")
            .then(response => response.json())
            .then(result => (valor = result.USDBRL.ask))
            .catch(error => console.log('error', error));

        const brlInput = document.querySelector("#brl");
        const dolInput = document.querySelector("#dol");

        brlInput.addEventListener('keypress', (e) => {
            const onlyNumbers = /[0-9]/;
            const key = String.fromCharCode(e.keyCode);

            if (!onlyNumbers.test(key)) {
                e.preventDefault();
                return;
            }
        });

        brlInput.addEventListener('keyup', (e) => {
            dolInput.value = (brlInput.value / Number(valor)).toFixed(2);
            if (brlInput.value == "") {
                dolInput.value = "";
            }
        });

        dolInput.addEventListener('keypress', (e) => {
            const onlyNumbers = /[0-9]/;
            const key = String.fromCharCode(e.keyCode);

            if (!onlyNumbers.test(key)) {
                e.preventDefault();
                return;
            }
        });

        dolInput.addEventListener('keyup', (e) => {
            brlInput.value = (dolInput.value * Number(valor)).toFixed(2);
            if (dolInput.value == "") {
                brlInput.value = "";
            }
        })


    </script>
</body>

</html>